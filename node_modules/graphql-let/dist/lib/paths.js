"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
exports.DTS_OUTPUT_DIR = 'types';
exports.TSX_OUTPUT_DIR = '__intermediate__';
function createDtsRelDir(genRelPath) {
    return path_1.default.join(genRelPath, exports.DTS_OUTPUT_DIR);
}
exports.createDtsRelDir = createDtsRelDir;
function createPaths(cwd, genRelPath, gqlRelPath, hash) {
    const genFullDir = path_1.default.join(cwd, genRelPath);
    const dtsRelDir = createDtsRelDir(genRelPath);
    const tsxFullDir = path_1.default.join(genFullDir, exports.TSX_OUTPUT_DIR);
    const gqlBasename = path_1.default.basename(gqlRelPath);
    const tsxRelPath = `${gqlRelPath}-${hash}.tsx`;
    const tsxFullPath = path_1.default.join(tsxFullDir, tsxRelPath);
    const dtsRelPath = path_1.default.join(dtsRelDir, `${gqlBasename}-${hash}.d.ts`);
    const dtsFullPath = path_1.default.join(cwd, dtsRelPath);
    return {
        gqlRelPath,
        tsxRelPath,
        tsxFullPath,
        dtsFullPath,
        dtsRelPath,
    };
}
exports.createPaths = createPaths;
function isURL(p) {
    try {
        new URL(p);
        return true;
    }
    catch (e) {
        return false;
    }
}
exports.isURL = isURL;
